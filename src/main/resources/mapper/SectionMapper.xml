<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="net.herdao.hdp.mpclient.mapper.SectionMapper">

    <select id="sectionList" parameterType="pipeline" resultType="map">
       	select id,section_code AS sectionCode,section_name AS sectionName, group_id as groupId from mp_section
    </select>

    <select id="chkDuplicateSectionCode" parameterType="section" resultType="boolean" >
         SELECT count(*) from mp_section  where  (#{id} is null or  id != #{id})  and  section_code = #{sectionCode}
    </select>

    <select id="chkDuplicateSectionName" parameterType="section" resultType="boolean">
        SELECT count(*) from mp_section  where  (#{id} is null or  id != #{id})  and  section_name = #{sectionName}
    </select>
</mapper>
