<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="net.hedao.hdp.mpclient.mapper.PipelineMapper">


    <select id="pipelineList" parameterType="post" resultType="map">
       	select id,pipeline_code AS pipelineCode,pipeline_name AS pipelineName from mp_pipeline
    </select>

    <select id="chkDuplicatePipelineCode" parameterType="pipeline" resultType="boolean" >
         SELECT count(*) from mp_Pipeline where  (#{id} is null or  id != #{id})  and  pipeline_code = #{pipelineCode}
    </select>


    <select id="chkDuplicatePipelineName" parameterType="pipeline" resultType="boolean">
      SELECT count(*) from mp_Pipeline where   (#{id} is null or  id != #{id})    and pipeline_name = #{pipelineName}
    </select>
</mapper>
